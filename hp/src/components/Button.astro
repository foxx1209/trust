---
const {
  small = false,
  middel = false,
  large = false,
  white = false,
  reverse = false,
} = Astro.props;
const {link,label} = Astro.props;

const baseUrl = import.meta.env.BASE_URL;
// 絶対パス（/で始まる）の場合、baseUrlを追加
const href = link?.startsWith('/') ? `${baseUrl}${link.slice(1)}` : link || baseUrl;
---

<a
  class="btn"
  class:list={{
    'btn--small': small,
    'btn--middle': middel,
    'btn--large': large,
    'btn--white': white,
    'btn--reverse': reverse,
  }}
  href={href}
>
  {label}
</a>

<style>
  .btn{
   font-size: calc(18* var(--torem));
   font-weight: 500;
   color: var(--white);
   background: var(--gradient-color);
   border-radius: 40px;
   display: flex;
   align-items: center;
   justify-content: center;
   text-align: center;
   gap: calc(15* var(--torem));
   /* padding: calc(12* var(--torem)) ; */
    padding: calc(16* var(--torem));
   text-decoration: none;
   letter-spacing: 0.1em;
   transition: all 0.3s ease;
   position: relative;
   overflow: hidden;
   z-index: 1;
   inline-size: calc(300* var(--torem));
   inline-size: 100%;
   @media(width >= 48rem) {
    padding: calc(12* var(--torem)) ;
   }
  
  }
  
  .btn::before {
   content: '';
   position: absolute;
   top: 0;
   left: 0;
   inline-size: 100%;
   block-size: 100%;
   background: var(--gradient-color-hover);
   opacity: 0;
   transition: all 0.3s ease;
   z-index: -1;
  }
  .btn::after{
    background: url("../assets/images/btn-arrow.webp") no-repeat center center / contain;
    content: "";
    display: block;
    inline-size: calc(35* var(--torem));
    block-size: calc(35* var(--torem));
    position: absolute;
    right: calc(20* var(--torem));
    top: 50%;
    transform: translateY(-50%);
    @media(width >= 48rem) {
      position: static;
      transform: none;
      top: auto;
      right: auto;
    }
  }
  .btn--small{
    inline-size: calc(300* var(--torem));
    @media(width >= 48rem) {        
    inline-size: calc(198* var(--torem));
    }
  }
  .btn--middle{
    inline-size: calc(300* var(--torem));
    @media(width >= 48rem) {        
    inline-size: calc(237* var(--torem));
    }
  }
  .btn--large{
    inline-size: calc(300* var(--torem));
    @media(width >= 48rem) {          
    inline-size: calc(257* var(--torem));
    
    }
  }

@media (any-hover: hover) {

.btn:hover::before {
       opacity: 1;
   }
  }
   .btn--white{
    background: linear-gradient(86.82deg, #20377A 4.26%, #2C85C5 92.99%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-fill-color: transparent;
   
   }
   @media (any-hover: hover) {

   .btn--white:hover{
    opacity: 0.7;
    background: var(--white);
   }
  }
   .btn--reverse{
   flex-direction: row-reverse;
   
   inline-size: calc(300* var(--torem));
    @media(width >= 48rem) {          
    inline-size: calc(257* var(--torem));
    }
   }
   .btn--reverse::after{
    right: auto;
    left: calc(20* var(--torem));
    transform: translateY(-50%) rotate(180deg);
    @media(width >= 48rem) {
      transform: none;
      position: static;
      scale: -1;
    }
   }
   
   /* .btn--white::before{
   
   }
   .btn--white::after{
    background: url("../assets/images/btn-arrow-blue.webp") no-repeat center center / contain;
    content: "";
    display: block;
    inline-size: calc(35* var(--torem));
    block-size: calc(35* var(--torem));
    
  } */
</style>
